[
  {
    "label": "Build (with database)",
    "command": "cargo build --features database",
    "cwd": "${ZED_WORKTREE_ROOT}/rust",
    "tags": ["build"]
  },
  {
    "label": "Test (lib)",
    "command": "cargo test --features database --lib",
    "cwd": "${ZED_WORKTREE_ROOT}/rust",
    "tags": ["test"]
  },
  {
    "label": "Clippy",
    "command": "cargo clippy --features database",
    "cwd": "${ZED_WORKTREE_ROOT}/rust",
    "tags": ["lint"]
  },
  {
    "label": "Build LSP",
    "command": "cargo build -p dsl-lsp",
    "cwd": "${ZED_WORKTREE_ROOT}/rust",
    "tags": ["build"]
  },
  {
    "label": "Dead Code Sweep",
    "command": "bash scripts/dead-code-sweep.sh",
    "cwd": "${ZED_WORKTREE_ROOT}",
    "tags": ["cleanup", "analysis"]
  },
  {
    "label": "Check Unused Dependencies",
    "command": "cargo machete",
    "cwd": "${ZED_WORKTREE_ROOT}/rust",
    "tags": ["dependencies"]
  },
  {
    "label": "Test All",
    "command": "cargo test --workspace --all-targets --all-features",
    "cwd": "${ZED_WORKTREE_ROOT}/rust",
    "tags": ["test"]
  }
]
