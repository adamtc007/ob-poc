# Custody Setup Demo Scenario
# Demonstrates the three-layer custody model: Universe → SSI → Booking Rules

name: "Custody Setup"
description: "Configure trading universe, SSIs, and booking rules for settlement"
typing_speed_ms: 30
pause_after_ms: 2000

steps:
  - prompt: "Create a US pension fund called Pacific Retirement Fund"
    expect_verbs:
      - cbu.ensure
    auto_execute: true

  - prompt: "This fund will trade US equities on NYSE"
    expect_verbs:
      - cbu-custody.add-universe
    pause_after_ms: 2500

  - prompt: "They also trade UK equities on the London Stock Exchange in both GBP and USD"
    expect_verbs:
      - cbu-custody.add-universe

  - prompt: "Create an SSI for US settlement at State Street with account SAFE-US-001"
    expect_verbs:
      - cbu-custody.create-ssi

  - prompt: "Create an SSI for UK settlement at HSBC with account SAFE-UK-001"
    expect_verbs:
      - cbu-custody.create-ssi

  - prompt: "Add a booking rule for US equities DVP settlement using the State Street SSI"
    expect_verbs:
      - cbu-custody.add-booking-rule

  - prompt: "Add booking rules for UK equities - one for GBP and one for USD cross-currency"
    expect_verbs:
      - cbu-custody.add-booking-rule

  - prompt: "Validate that all universe entries have booking rule coverage"
    expect_verbs:
      - cbu-custody.validate-booking-coverage
    auto_execute: true
