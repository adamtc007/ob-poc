domains:
  service:
    description: "Service catalog operations (read-only - services are reference data)"
    verbs:
      read:
        description: Read a service by ID or code
        behavior: crud
        crud:
          operation: select
          table: services
          schema: ob-poc
        args:
          - name: service-id
            type: uuid
            required: false
            maps_to: service_id
          - name: service-code
            type: string
            required: false
            maps_to: service_code
        returns:
          type: record

      list:
        description: List services with optional filters
        behavior: crud
        crud:
          operation: select
          table: services
          schema: ob-poc
        args:
          - name: service-type
            type: string
            required: false
            maps_to: service_type
          - name: is-active
            type: boolean
            required: false
            maps_to: is_active
          - name: limit
            type: integer
            required: false
            default: 100
          - name: offset
            type: integer
            required: false
            default: 0
        returns:
          type: record_set

      list-by-product:
        description: List services for a product
        behavior: crud
        crud:
          operation: select_with_join
          primary_table: services
          join_table: product_services
          join_col: service_id
          filter_col: product_id
          schema: ob-poc
        args:
          - name: product-id
            type: uuid
            required: true
          - name: is-mandatory
            type: boolean
            required: false
        returns:
          type: record_set
