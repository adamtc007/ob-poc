# Reference Data Bulk Loading Operations
# These verbs load reference data from YAML files into the database

domains:
  refdata:
    description: "Reference data bulk loading operations"
    verbs:
      load-markets:
        description: Load markets from YAML file into custody.markets table
        behavior: plugin
        handler: load_markets_from_yaml
        args:
          - name: file-path
            type: string
            required: true
            description: Path to YAML file containing market definitions
          - name: mode
            type: string
            required: false
            default: UPSERT
            description: "INSERT (fail on conflict), UPSERT (update on conflict), REPLACE (delete all first)"
        returns:
          type: record
          description: Summary of loaded markets

      load-instrument-classes:
        description: Load instrument class taxonomy from YAML into custody.instrument_classes
        behavior: plugin
        handler: load_instrument_classes_from_yaml
        args:
          - name: file-path
            type: string
            required: true
            description: Path to YAML file containing instrument class taxonomy
          - name: mode
            type: string
            required: false
            default: UPSERT
        returns:
          type: record
          description: Summary of loaded instrument classes

      load-subcustodians:
        description: Load subcustodian network from YAML into custody.subcustodian_network
        behavior: plugin
        handler: load_subcustodians_from_yaml
        args:
          - name: file-path
            type: string
            required: true
            description: Path to YAML file containing subcustodian network
          - name: mode
            type: string
            required: false
            default: UPSERT
        returns:
          type: record
          description: Summary of loaded subcustodians

      load-sla-templates:
        description: Load SLA templates from YAML into ob-poc.sla_templates
        behavior: plugin
        handler: load_sla_templates_from_yaml
        args:
          - name: file-path
            type: string
            required: true
            description: Path to YAML file containing SLA templates
          - name: mode
            type: string
            required: false
            default: UPSERT
        returns:
          type: record
          description: Summary of loaded SLA templates

      load-all:
        description: Load all reference data from directory
        behavior: plugin
        handler: load_all_refdata
        args:
          - name: directory
            type: string
            required: true
            description: Directory containing reference data YAML files
          - name: mode
            type: string
            required: false
            default: UPSERT
        returns:
          type: record
          description: Summary of all loaded reference data
