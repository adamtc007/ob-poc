domains:
  screening:
    description: Entity screening operations (PEP, sanctions, adverse media)
    verbs:
      pep:
        description: Run PEP (Politically Exposed Persons) screening
        metadata:
          tier: intent
          source_of_truth: external
          scope: cbu
          noun: screening
        behavior: plugin
        args:
        - name: entity-id
          type: uuid
          required: true
          lookup:
            table: entities
            entity_type: entity
            schema: ob-poc
            search_key: name
            primary_key: entity_id
        - name: provider
          type: string
          required: false
        returns:
          type: uuid
          capture: true
      sanctions:
        description: Run sanctions list screening
        metadata:
          tier: intent
          source_of_truth: external
          scope: cbu
          noun: screening
        behavior: plugin
        args:
        - name: entity-id
          type: uuid
          required: true
          lookup:
            table: entities
            entity_type: entity
            schema: ob-poc
            search_key: name
            primary_key: entity_id
        - name: lists
          type: string_list
          required: false
        returns:
          type: uuid
          capture: true
      adverse-media:
        description: Run adverse media screening
        metadata:
          tier: intent
          source_of_truth: external
          scope: cbu
          noun: screening
        behavior: plugin
        args:
        - name: entity-id
          type: uuid
          required: true
          lookup:
            table: entities
            entity_type: entity
            schema: ob-poc
            search_key: name
            primary_key: entity_id
        - name: lookback-months
          type: integer
          required: false
          default: 24
        returns:
          type: uuid
          capture: true
