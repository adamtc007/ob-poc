domains:
  product:
    description: "Product catalog operations (read-only - products are reference data)"
    verbs:
      read:
        description: Read a product by ID or code
        behavior: crud
        crud:
          operation: select
          table: products
          schema: ob-poc
        args:
          - name: product-id
            type: uuid
            required: false
            maps_to: product_id
            lookup:
              table: products
              schema: ob-poc
              search_key: name
              primary_key: product_id
          - name: product-code
            type: string
            required: false
            maps_to: product_code
        returns:
          type: record

      list:
        description: List products with optional filters
        behavior: crud
        crud:
          operation: select
          table: products
          schema: ob-poc
        args:
          - name: product-category
            type: string
            required: false
            maps_to: product_category
          - name: is-active
            type: boolean
            required: false
            maps_to: is_active
          - name: limit
            type: integer
            required: false
            default: 100
          - name: offset
            type: integer
            required: false
            default: 0
        returns:
          type: record_set
