domains:
  delivery:
    description: Service delivery tracking operations
    verbs:
      record:
        description: Record a service delivery for a CBU
        behavior: plugin
        args:
        - name: cbu-id
          type: uuid
          required: true
        - name: product
          type: string
          required: true
        - name: service
          type: string
          required: true
        - name: instance-id
          type: uuid
          required: false
        - name: config
          type: json
          required: false
        returns:
          type: uuid
          capture: true
      complete:
        description: Mark a service delivery as complete
        behavior: plugin
        args:
        - name: cbu-id
          type: uuid
          required: true
        - name: product
          type: string
          required: true
        - name: service
          type: string
          required: true
        - name: instance-id
          type: uuid
          required: false
        returns:
          type: affected
      fail:
        description: Mark a service delivery as failed
        behavior: plugin
        args:
        - name: cbu-id
          type: uuid
          required: true
        - name: product
          type: string
          required: true
        - name: service
          type: string
          required: true
        - name: reason
          type: string
          required: true
        returns:
          type: affected
