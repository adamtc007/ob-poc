domains:
  contract-pack:
    description: "Contract pack management â€” template packs for contract generation during booking principal selection"

    invocation_hints:
      - "contract pack"
      - "contract template"
      - "document pack"

    verbs:
      create:
        description: "Create a new contract pack"
        behavior: plugin
        metadata:
          tier: intent
          source_of_truth: operational
          scope: global
          noun: contract_pack
        invocation_phrases:
          - "create contract pack"
          - "new contract pack"
          - "add document pack"
          - "register contract pack"
        args:
          - name: code
            type: string
            required: true
            maps_to: code
            description: "Unique code (e.g., EU_CUSTODY, EU_TA)"
          - name: name
            type: string
            required: true
            maps_to: name
            description: "Display name"
          - name: description
            type: string
            required: false
            maps_to: description
        returns:
          type: record
          name: contract_pack

      add-template:
        description: "Add a template to a contract pack"
        behavior: plugin
        lifecycle:
          precondition_checks:
            - "requires_prior:contract-pack.create"
        metadata:
          tier: intent
          source_of_truth: operational
          scope: global
          noun: contract_template
        invocation_phrases:
          - "add contract template"
          - "add template to pack"
          - "register template"
        args:
          - name: contract-pack-id
            type: uuid
            required: true
            maps_to: contract_pack_id
          - name: template-type
            type: string
            required: true
            maps_to: template_type
            description: "Template type (custody_agreement, ta_agreement, isda_master, csa, etc.)"
          - name: template-ref
            type: string
            required: false
            maps_to: template_ref
            description: "External reference to template document"
        returns:
          type: record
          name: contract_template
