version: '2.0'
domain: semantic
description: Semantic stage operations - derive onboarding progress from entity state
verbs:
- verb: semantic.next-actions
  domain: semantic
  action: next-actions
  aliases:
  - next-actions
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - next actions semantic
  - next actions the semantic
  - semantic next actions
  examples:
  - (semantic.next-actions :cbu-id "...")
  doc: Get the next actionable stages for a CBU (unblocked, incomplete stages)
  tier: intent
- verb: semantic.missing-entities
  domain: semantic
  action: missing-entities
  aliases:
  - missing-entities
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
    optional:
      stage:
        type: str
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - missing entities semantic
  - missing entities the semantic
  - semantic missing entities
  examples:
  - (semantic.missing-entities :cbu-id "...")
  doc: Get entities that are missing for stage completion
  tier: intent
- verb: semantic.prompt-context
  domain: semantic
  action: prompt-context
  aliases:
  - prompt-context
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - prompt context semantic
  - prompt context the semantic
  - semantic prompt context
  examples:
  - (semantic.prompt-context :cbu-id "...")
  doc: Get semantic state formatted for agent prompt injection
  tier: intent
- verb: semantic.list-stages
  domain: semantic
  action: list-stages
  aliases:
  - list-stages
  args:
    style: keyworded
  invocation_phrases:
  - list stages semantic
  - list stages the semantic
  - semantic list stages
  examples:
  - (semantic.list-stages)
  doc: List all defined semantic stages with their dependencies
  tier: reference
- verb: semantic.stages-for-product
  domain: semantic
  action: stages-for-product
  aliases:
  - stages-for-product
  args:
    style: keyworded
    required:
      product:
        type: entity_name
  positional_sugar:
  - product
  invocation_phrases:
  - stages for product semantic
  - stages for product the semantic
  - semantic stages for product
  examples:
  - (semantic.stages-for-product :product "...")
  doc: Get required stages for a specific product
  tier: intent
- verb: semantic.get-state
  domain: semantic
  action: get-state
  aliases:
  - get-state
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - get state semantic
  - get state the semantic
  - semantic get state
  examples:
  - (semantic.get-state :cbu-id "...")
  doc: Derive semantic state for a CBU - shows stage progress, gaps, and blockers
  tier: reference
