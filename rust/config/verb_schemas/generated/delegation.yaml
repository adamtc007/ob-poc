version: '2.0'
domain: delegation
description: Service provider delegation chains - ManCo to sub-advisor, administrator to sub-contractor
verbs:
- verb: delegation.list-delegates
  domain: delegation
  action: list-delegates
  aliases:
  - list-delegates
  args:
    style: keyworded
    required:
      entity-id:
        type: entity_name
  positional_sugar:
  - entity-id
  invocation_phrases:
  - list delegates delegation
  - list delegates the delegation
  - delegation list delegates
  examples:
  - (delegation.list-delegates :entity-id "...")
  doc: List who an entity delegates to
  tier: reference
- verb: delegation.add
  domain: delegation
  action: add
  aliases:
  - add
  args:
    style: keyworded
    required:
      delegator-entity-id:
        type: entity_name
      delegate-entity-id:
        type: entity_name
      scope:
        type: str
      effective-from:
        type: date
    optional:
      description:
        type: str
      applies-to-cbu-id:
        type: entity_name
      regulatory-notification-date:
        type: date
      contract-doc-id:
        type: entity_name
  positional_sugar:
  - delegator-entity-id
  - delegate-entity-id
  invocation_phrases:
  - add delegation
  - add the delegation
  - delegation add
  examples:
  - (delegation.add :delegator-entity-id "..." :delegate-entity-id "..." :scope "..." :effective-from "...")
  doc: Add a delegation relationship (idempotent by delegator+delegate+scope+cbu)
  tier: intent
- verb: delegation.list-delegations-received
  domain: delegation
  action: list-delegations-received
  aliases:
  - list-delegations-received
  args:
    style: keyworded
    required:
      entity-id:
        type: entity_name
  positional_sugar:
  - entity-id
  invocation_phrases:
  - list delegations received delegation
  - list delegations received the delegation
  - delegation list delegations received
  examples:
  - (delegation.list-delegations-received :entity-id "...")
  doc: List delegations an entity has received
  tier: reference
- verb: delegation.end
  domain: delegation
  action: end
  aliases:
  - end
  args:
    style: keyworded
    required:
      delegation-id:
        type: uuid
      effective-to:
        type: date
  positional_sugar:
  - delegation-id
  - effective-to
  invocation_phrases:
  - end delegation
  - end the delegation
  - delegation end
  examples:
  - (delegation.end :delegation-id "..." :effective-to "...")
  doc: End a delegation
  tier: intent
