version: '2.0'
domain: graph
description: Graph visualization and traversal operations
verbs:
- verb: graph.view
  domain: graph
  action: view
  aliases:
  - view
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
    optional:
      max-depth:
        type: int
      view-mode:
        type: enum
        values:
        - TRADING
        - KYC_UBO
        - UBO_ONLY
        - CUSTODY
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - view graph
  - view the graph
  - view visualization
  - graph view
  examples:
  - (graph.view :cbu-id "...")
  doc: Build full graph view from a CBU root
  tier: intent
- verb: graph.focus
  domain: graph
  action: focus
  aliases:
  - focus
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
      entity-id:
        type: entity_name
    optional:
      depth:
        type: int
  positional_sugar:
  - cbu-id
  - entity-id
  invocation_phrases:
  - focus graph
  - focus the graph
  - focus visualization
  - graph focus
  examples:
  - (graph.focus :cbu-id "..." :entity-id "...")
  doc: Focus on a specific node with its immediate neighborhood
  tier: intent
- verb: graph.find-connected
  domain: graph
  action: find-connected
  aliases:
  - find-connected
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
      entity-id:
        type: entity_name
    optional:
      edge-types:
        type: list
      max-depth:
        type: int
  positional_sugar:
  - cbu-id
  - entity-id
  invocation_phrases:
  - find connected graph
  - find connected the graph
  - find connected visualization
  - graph find connected
  examples:
  - (graph.find-connected :cbu-id "..." :entity-id "...")
  doc: Find all nodes connected to a starting point within depth
  tier: reference
- verb: graph.group-by
  domain: graph
  action: group-by
  aliases:
  - group-by
  args:
    style: keyworded
    required:
      group-by:
        type: enum
        values:
        - jurisdiction
        - role
        - layer
        - type
        - status
        - entity_category
      cbu-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  - group-by
  invocation_phrases:
  - group graph by
  - cluster by attribute
  - group nodes by jurisdiction
  - group by role
  - group by type
  - cluster entities
  - group graph nodes
  - organize by
  examples:
  - (graph.group-by :cbu-id "..." :group-by "...")
  doc: Group nodes by an attribute (jurisdiction, role, type, etc.)
  tier: intent
- verb: graph.compare
  domain: graph
  action: compare
  aliases:
  - compare
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
      right-snapshot-id:
        type: uuid
      left-snapshot-id:
        type: uuid
  positional_sugar:
  - cbu-id
  - left-snapshot-id
  invocation_phrases:
  - compare graph
  - compare the graph
  - compare visualization
  - graph compare
  examples:
  - (graph.compare :cbu-id "..." :left-snapshot-id "..." :right-snapshot-id "...")
  doc: Compare two graph snapshots to find differences
  tier: intent
- verb: graph.ancestors
  domain: graph
  action: ancestors
  aliases:
  - ancestors
  args:
    style: keyworded
    required:
      entity-id:
        type: entity_name
    optional:
      max-depth:
        type: int
  positional_sugar:
  - entity-id
  invocation_phrases:
  - ancestors graph
  - ancestors the graph
  - ancestors visualization
  - graph ancestors
  examples:
  - (graph.ancestors :entity-id "...")
  doc: Find all ancestors (owners/controllers) of an entity
  tier: intent
- verb: graph.descendants
  domain: graph
  action: descendants
  aliases:
  - descendants
  args:
    style: keyworded
    required:
      entity-id:
        type: entity_name
    optional:
      max-depth:
        type: int
  positional_sugar:
  - entity-id
  invocation_phrases:
  - descendants graph
  - descendants the graph
  - descendants visualization
  - graph descendants
  examples:
  - (graph.descendants :entity-id "...")
  doc: Find all descendants (owned/controlled entities) of an entity
  tier: intent
- verb: graph.path
  domain: graph
  action: path
  aliases:
  - path
  args:
    style: keyworded
    required:
      from-entity-id:
        type: entity_name
      cbu-id:
        type: entity_name
      to-entity-id:
        type: entity_name
    optional:
      edge-types:
        type: list
  positional_sugar:
  - cbu-id
  - from-entity-id
  invocation_phrases:
  - find path between
  - show connection
  - path from A to B
  - how are they connected
  - find relationship path
  - trace path
  - show link between
  - graph path
  examples:
  - (graph.path :cbu-id "..." :from-entity-id "..." :to-entity-id "...")
  doc: Find shortest path between two nodes
  tier: intent
- verb: graph.filter
  domain: graph
  action: filter
  aliases:
  - filter
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
    optional:
      layers:
        type: list
      jurisdiction:
        type: entity_name
      search:
        type: str
      edge-types:
        type: list
      node-types:
        type: list
      role:
        type: entity_name
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - filter graph
  - filter the graph
  - filter visualization
  - graph filter
  examples:
  - (graph.filter :cbu-id "...")
  doc: Filter graph by criteria (node types, layers, roles, etc.)
  tier: intent
