version: '2.0'
domain: fund-vehicle
description: |
  Fund vehicle taxonomy management for Luxembourg and international fund structures.

  PURPOSE: Model the legal structure of investment funds without creating fake legal entities.
  A fund's vehicle type determines its regulatory treatment, compartmentalization ability,
  and how investors interact with it (shares, units, LP interests, etc.).

  KEY CONCEPTS:
  - Vehicle type: Legal/regulatory classification (SICAV, FCP, LP, etc.)
  - Umbrella fund: Single legal entity containing multiple compartments/sub-funds
  - Compartment: Legally segregated sleeve within an umbrella (separate NAV, investors)
  - Sub-fund: Fund that is part of a larger umbrella structure
  - ManCo: Management Company (AIFM or UCITS ManCo) managing the fund

  LUXEMBOURG STRUCTURES (most common in EU institutional funds):
  - SCSp (Société en Commandite Spéciale): Luxembourg special limited partnership.
    Tax transparent, flexible governance, common for PE/VC. Not AIFMD compliant alone.
  - SICAV-RAIF (Reserved AIF): Lighter regulation than SIF, quick launch, no CSSF approval.
    Can be umbrella with compartments. Very popular since 2016.
  - SICAV-SIF (Specialized Investment Fund): Regulated by CSSF, for qualified investors.
    Can be umbrella. Pre-RAIF workhorse structure.
  - SICAV-UCITS: Retail-friendly, passport across EU, strict investment rules.
    Always umbrella capable. Most liquid fund type.
  - FCP (Fonds Commun de Placement): Contractual fund (not corporate), managed by ManCo.
    No legal personality - ManCo acts on behalf. Lower costs.

  OTHER JURISDICTIONS:
  - LP (Limited Partnership): US/Cayman/UK. GP/LP structure, tax transparent.
  - LLC (Limited Liability Company): US. Corporate with pass-through tax option.
  - TRUST: UK/Ireland/Cayman. Trust structure with trustee.
  - OEIC (Open-Ended Investment Company): UK equivalent of SICAV.
  - ETF (Exchange-Traded Fund): Listed, intraday trading.
  - REIT (Real Estate Investment Trust): Tax-efficient real estate vehicle.
  - BDC (Business Development Company): US closed-end for middle market.
verbs:
- verb: fund-vehicle.delete
  domain: fund-vehicle
  action: delete
  aliases:
  - delete
  - drop
  - remove
  args:
    style: keyworded
    required:
      fund-entity-id:
        type: entity_name
  positional_sugar:
  - fund-entity-id
  invocation_phrases:
  - delete fund vehicle
  - remove fund type
  - unclassify fund
  - delete fund-vehicle
  - delete the fund-vehicle
  - remove fund-vehicle
  - drop fund-vehicle
  - fund-vehicle delete
  examples:
  - (fund-vehicle.delete :fund-entity-id "...")
  doc: |
    Delete fund vehicle metadata from an entity.

    WARNING: This removes the vehicle type classification, not the entity itself.
    Use with caution - may break compartment relationships.
  tier: intent
- verb: fund-vehicle.list-by-manager
  domain: fund-vehicle
  action: list-by-manager
  aliases:
  - list-by-manager
  args:
    style: keyworded
    required:
      manager-entity-id:
        type: entity_name
  positional_sugar:
  - manager-entity-id
  invocation_phrases:
  - funds by manager
  - funds managed by
  - ManCo funds
  - AIFM portfolio
  - list managed funds
  - list by manager fund-vehicle
  - list by manager the fund-vehicle
  - fund-vehicle list by manager
  examples:
  - (fund-vehicle.list-by-manager :manager-entity-id "...")
  doc: |
    List all funds managed by an entity (ManCo/AIFM).

    Returns all funds where manager_entity_id matches.
    Useful for management company oversight and AuM aggregation.
  tier: diagnostics
- verb: fund-vehicle.list-by-type
  domain: fund-vehicle
  action: list-by-type
  aliases:
  - list-by-type
  args:
    style: keyworded
    required:
      vehicle-type:
        type: str
  positional_sugar:
  - vehicle-type
  invocation_phrases:
  - list all SICAVs
  - find SCSp funds
  - all RAIFs
  - funds by type
  - list ETFs
  - show all LPs
  - list by type fund-vehicle
  - list by type the fund-vehicle
  examples:
  - (fund-vehicle.list-by-type :vehicle-type "...")
  doc: |
    List all funds of a specific vehicle type.

    Returns all funds matching the vehicle_type.
    Useful for regulatory reporting by structure type.
  tier: diagnostics
- verb: fund-vehicle.read
  domain: fund-vehicle
  action: read
  aliases:
  - fetch
  - get
  - read
  args:
    style: keyworded
    required:
      fund-entity-id:
        type: entity_name
  positional_sugar:
  - fund-entity-id
  invocation_phrases:
  - get fund vehicle
  - read fund type
  - what type of fund
  - fund structure info
  - check fund vehicle
  - read fund-vehicle
  - read the fund-vehicle
  - get fund-vehicle
  examples:
  - (fund-vehicle.read :fund-entity-id "...")
  doc: |
    Read fund vehicle metadata by entity ID.

    Returns vehicle type, umbrella relationship, manager, domicile,
    and any custom metadata.
  tier: diagnostics
- verb: fund-vehicle.upsert
  domain: fund-vehicle
  action: upsert
  aliases:
  - upsert
  args:
    style: keyworded
    required:
      fund-entity-id:
        type: entity_name
      vehicle-type:
        type: str
    optional:
      meta:
        type: json
      domicile-country:
        type: str
      created-by:
        type: str
      umbrella-entity-id:
        type: entity_name
      is-umbrella:
        type: bool
      manager-entity-id:
        type: entity_name
  positional_sugar:
  - fund-entity-id
  - vehicle-type
  invocation_phrases:
  - create fund vehicle
  - set fund type
  - register fund structure
  - configure fund vehicle
  - set as SICAV
  - set as SCSp
  - make umbrella fund
  - link to umbrella
  examples:
  - (fund-vehicle.upsert :fund-entity-id "..." :vehicle-type "...")
  doc: |
    Create or update fund vehicle metadata for an entity.

    Links an entity (the fund) to its vehicle type classification,
    umbrella relationship, management company, and jurisdiction.

    USE CASES:
    - "Register Allianz SICAV as a SICAV-RAIF umbrella in Luxembourg"
    - "Set Fund A as a sub-fund under the main SICAV"
    - "Link fund to its management company"
    - "Change vehicle type after restructuring"

    NOTE: The entity must already exist. This verb adds fund-specific
    metadata to an existing legal entity, not create a new entity.
  tier: intent
- verb: fund-vehicle.list-by-umbrella
  domain: fund-vehicle
  action: list-by-umbrella
  aliases:
  - list-by-umbrella
  args:
    style: keyworded
    required:
      umbrella-entity-id:
        type: entity_name
  positional_sugar:
  - umbrella-entity-id
  invocation_phrases:
  - list sub-funds
  - funds under umbrella
  - compartments in SICAV
  - umbrella structure
  - show sub-funds
  - list by umbrella fund-vehicle
  - list by umbrella the fund-vehicle
  - fund-vehicle list by umbrella
  examples:
  - (fund-vehicle.list-by-umbrella :umbrella-entity-id "...")
  doc: |
    List all sub-funds under an umbrella fund.

    Returns all funds that have this umbrella as their parent.
    Useful for viewing the complete structure of a SICAV or similar umbrella.
  tier: diagnostics
