version: '2.0'
domain: delivery
description: Service delivery tracking operations
verbs:
- verb: delivery.complete
  domain: delivery
  action: complete
  aliases:
  - complete
  args:
    style: keyworded
    required:
      service:
        type: entity_name
      product:
        type: entity_name
      cbu-id:
        type: entity_name
    optional:
      instance-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  - product
  invocation_phrases:
  - complete delivery
  - complete the delivery
  - delivery complete
  examples:
  - (delivery.complete :cbu-id "..." :product "..." :service "...")
  doc: Mark a service delivery as complete
  tier: intent
- verb: delivery.fail
  domain: delivery
  action: fail
  aliases:
  - fail
  args:
    style: keyworded
    required:
      reason:
        type: str
      product:
        type: entity_name
      cbu-id:
        type: entity_name
      service:
        type: entity_name
  positional_sugar:
  - cbu-id
  - product
  invocation_phrases:
  - fail delivery
  - fail the delivery
  - delivery fail
  examples:
  - (delivery.fail :cbu-id "..." :product "..." :service "..." :reason "...")
  doc: Mark a service delivery as failed
  tier: intent
- verb: delivery.record
  domain: delivery
  action: record
  aliases:
  - record
  args:
    style: keyworded
    required:
      service:
        type: entity_name
      cbu-id:
        type: entity_name
      product:
        type: entity_name
    optional:
      config:
        type: json
      instance-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  - product
  invocation_phrases:
  - record delivery
  - record the delivery
  - delivery record
  examples:
  - (delivery.record :cbu-id "..." :product "..." :service "...")
  doc: Record a service delivery for a CBU (upsert by cbu+product+service)
  tier: intent
