version: '2.0'
domain: manco
description: Governance controller group management and control chain operations
verbs:
- verb: manco.control-chain
  domain: manco
  action: control-chain
  aliases:
  - control-chain
  args:
    style: keyworded
    required:
      manco-entity-id:
        type: entity_name
    optional:
      max-depth:
        type: int
  positional_sugar:
  - manco-entity-id
  invocation_phrases:
  - control chain
  - who controls the controller
  - ultimate parent
  - trace ownership upward
  - ownership chain
  - control chain manco
  - control chain the manco
  - manco control chain
  examples:
  - (manco.control-chain :manco-entity-id "...")
  doc: |
    Trace the shareholding control chain upward from a controller.
    Returns the chain of controlling entities up to the ultimate parent.
  tier: diagnostics
  tags:
  - read
  - query
  - ubo
- verb: manco.primary-controller
  domain: manco
  action: primary-controller
  aliases:
  - primary-controller
  args:
    style: keyworded
    required:
      issuer-entity-id:
        type: entity_name
    optional:
      as-of:
        type: date
  positional_sugar:
  - issuer-entity-id
  invocation_phrases:
  - who controls
  - primary controller
  - governance controller for
  - who appoints the board
  - control share class holder
  - primary controller manco
  - primary controller the manco
  - manco primary controller
  examples:
  - (manco.primary-controller :issuer-entity-id "...")
  doc: |
    Get the primary governance controller for an issuer.
    Returns single deterministic winner based on: board rights > voting control > significant influence.
  tier: diagnostics
  tags:
  - read
  - query
  - control
- verb: manco.group.for-cbu
  domain: manco
  action: group.for-cbu
  aliases:
  - group.for-cbu
  args:
    style: keyworded
    required:
      cbu-id:
        type: entity_name
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - find controller for CBU
  - who manages this CBU
  - get CBU group
  - which book
  - group.for cbu manco
  - group.for cbu the manco
  - manco group.for cbu
  examples:
  - (manco.group.for-cbu :cbu-id "...")
  doc: |
    Find the governance controller group for a specific CBU.
    Returns controller details and group information.
  tier: diagnostics
  tags:
  - read
  - query
- verb: manco.group.create
  domain: manco
  action: group.create
  aliases:
  - group.create
  args:
    style: keyworded
    required:
      manco-entity-id:
        type: entity_name
      group-name:
        type: str
    optional:
      ultimate-parent-entity-id:
        type: entity_name
      jurisdiction:
        type: str
      group-code:
        type: str
      group-type:
        type: enum
        values:
        - GOVERNANCE_BOOK
        - MANCO_BOOK
        - CORPORATE_GROUP
        - INVESTMENT_MANAGER
        - UMBRELLA_SICAV
        - CUSTOM
  positional_sugar:
  - manco-entity-id
  - group-name
  invocation_phrases:
  - create group
  - create book
  - new CBU group
  - manual group
  - group.create manco
  - group.create the manco
  - manco group.create
  examples:
  - (manco.group.create :manco-entity-id "..." :group-name "...")
  doc: |
    Create a new CBU group manually.
    Use for groups that can't be auto-derived from control signals.
  tier: intent
  tags:
  - lifecycle
  - write
- verb: manco.book.summary
  domain: manco
  action: book.summary
  aliases:
  - book.summary
  args:
    style: keyworded
    required:
      manco-entity-id:
        type: entity_name
  positional_sugar:
  - manco-entity-id
  invocation_phrases:
  - book summary
  - full group info
  - comprehensive book report
  - group with control chain
  - book.summary manco
  - book.summary the manco
  - manco book.summary
  examples:
  - (manco.book.summary :manco-entity-id "...")
  doc: |
    Get a comprehensive summary of a governance controller "book".
    Includes group info, all CBUs, and control chain.
  tier: composite
  tags:
  - read
  - composite
- verb: manco.group.remove-member
  domain: manco
  action: group.remove-member
  aliases:
  - group.remove-member
  args:
    style: keyworded
    required:
      group-id:
        type: uuid
      cbu-id:
        type: entity_name
  positional_sugar:
  - group-id
  - cbu-id
  invocation_phrases:
  - remove CBU from group
  - remove member
  - unassign CBU
  - group.remove member manco
  - group.remove member the manco
  - manco group.remove member
  examples:
  - (manco.group.remove-member :group-id "..." :cbu-id "...")
  doc: Remove a CBU from a governance controller group (sets effective_to)
  tier: intent
  tags:
  - lifecycle
  - write
- verb: manco.group.cbus
  domain: manco
  action: group.cbus
  aliases:
  - group.cbus
  args:
    style: keyworded
    required:
      manco-entity-id:
        type: entity_name
  positional_sugar:
  - manco-entity-id
  invocation_phrases:
  - get CBUs for controller
  - list book CBUs
  - show group members
  - CBUs managed by
  - group.cbus manco
  - group.cbus the manco
  - manco group.cbus
  examples:
  - (manco.group.cbus :manco-entity-id "...")
  doc: |
    Get all CBUs in a governance controller group.
    Returns CBU details including fund entity and membership source.
  tier: diagnostics
  tags:
  - read
  - query
- verb: manco.group.list
  domain: manco
  action: group.list
  aliases:
  - group.list
  args:
    style: keyworded
    optional:
      group-type:
        type: enum
        values:
        - GOVERNANCE_BOOK
        - MANCO_BOOK
        - CORPORATE_GROUP
        - INVESTMENT_MANAGER
        - UMBRELLA_SICAV
        - CUSTOM
      min-cbu-count:
        type: int
      jurisdiction:
        type: str
  invocation_phrases:
  - list groups
  - show all books
  - get governance groups
  - manco books
  - group.list manco
  - group.list the manco
  - manco group.list
  examples:
  - (manco.group.list)
  doc: |
    List all governance controller groups with summary information.
    Includes CBU counts and names for each group.
  tier: diagnostics
  tags:
  - read
  - query
- verb: manco.group.add-member
  domain: manco
  action: group.add-member
  aliases:
  - group.add-member
  args:
    style: keyworded
    required:
      group-id:
        type: uuid
      cbu-id:
        type: entity_name
    optional:
      source:
        type: enum
        values:
        - GOVERNANCE_CONTROLLER
        - MANCO_ROLE
        - GLEIF_MANAGED
        - SHAREHOLDING
        - MANUAL
  positional_sugar:
  - group-id
  - cbu-id
  invocation_phrases:
  - add CBU to group
  - add member
  - assign CBU to book
  - group.add member manco
  - group.add member the manco
  - manco group.add member
  examples:
  - (manco.group.add-member :group-id "..." :cbu-id "...")
  doc: Add a CBU to a governance controller group
  tier: intent
  tags:
  - lifecycle
  - write
- verb: manco.group.derive
  domain: manco
  action: group.derive
  aliases:
  - group.derive
  args:
    style: keyworded
    optional:
      as-of:
        type: date
  invocation_phrases:
  - derive groups
  - compute groups
  - auto-derive CBU groups
  - refresh governance groups
  - group.derive manco
  - group.derive the manco
  - manco group.derive
  examples:
  - (manco.group.derive)
  doc: |
    Derive CBU groups from governance controller (board appointment/control) with MANCO_ROLE fallback.
    Creates groups and memberships based on computed control signals.
  tier: composite
  tags:
  - governance
  - compute
  - batch
