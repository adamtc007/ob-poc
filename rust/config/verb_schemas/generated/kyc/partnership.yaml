version: '2.0'
domain: partnership
description: |
  Partnership capital accounts and control structure.
  Models GP/LP dynamics and profit/loss allocation.
verbs:
- verb: partnership.record-contribution
  domain: partnership
  action: record-contribution
  aliases:
  - record-contribution
  args:
    style: keyworded
    required:
      contribution-date:
        type: date
      partnership-entity-id:
        type: entity_name
      partner-entity-id:
        type: entity_name
      amount:
        type: decimal
    optional:
      reference:
        type: str
  positional_sugar:
  - partnership-entity-id
  - partner-entity-id
  invocation_phrases:
  - record contribution partnership
  - record contribution the partnership
  - partnership record contribution
  examples:
  - (partnership.record-contribution :partnership-entity-id "..." :partner-entity-id "..." :amount "..." :contribution-date "...")
  doc: Record capital contribution (drawdown)
  tier: intent
- verb: partnership.record-distribution
  domain: partnership
  action: record-distribution
  aliases:
  - record-distribution
  args:
    style: keyworded
    required:
      amount:
        type: decimal
      partnership-entity-id:
        type: entity_name
      partner-entity-id:
        type: entity_name
      distribution-type:
        type: enum
        values:
        - PROFIT
        - RETURN_OF_CAPITAL
        - LIQUIDATION
      distribution-date:
        type: date
  positional_sugar:
  - partnership-entity-id
  - partner-entity-id
  invocation_phrases:
  - record distribution partnership
  - record distribution the partnership
  - partnership record distribution
  examples:
  - (partnership.record-distribution :partnership-entity-id "..." :partner-entity-id "..." :amount "..." :distribution-type "..." :distribution-date "...")
  doc: Record distribution to partner
  tier: intent
- verb: partnership.list-partners
  domain: partnership
  action: list-partners
  aliases:
  - list-partners
  args:
    style: keyworded
    required:
      partnership-entity-id:
        type: entity_name
    optional:
      include-inactive:
        type: bool
      partner-type:
        type: enum
        values:
        - GP
        - LP
        - MEMBER
  positional_sugar:
  - partnership-entity-id
  invocation_phrases:
  - list partners partnership
  - list partners the partnership
  - partnership list partners
  examples:
  - (partnership.list-partners :partnership-entity-id "...")
  doc: List all partners in a partnership
  tier: reference
- verb: partnership.withdraw-partner
  domain: partnership
  action: withdraw-partner
  aliases:
  - withdraw-partner
  args:
    style: keyworded
    required:
      partnership-entity-id:
        type: entity_name
      withdrawal-date:
        type: date
      partner-entity-id:
        type: entity_name
  positional_sugar:
  - partnership-entity-id
  - partner-entity-id
  invocation_phrases:
  - withdraw partner partnership
  - withdraw partner the partnership
  - partnership withdraw partner
  examples:
  - (partnership.withdraw-partner :partnership-entity-id "..." :partner-entity-id "..." :withdrawal-date "...")
  doc: Record partner withdrawal/exit
  tier: intent
- verb: partnership.add-partner
  domain: partnership
  action: add-partner
  aliases:
  - add-partner
  args:
    style: keyworded
    required:
      profit-share-pct:
        type: decimal
      cbu-id:
        type: entity_name
      partnership-entity-id:
        type: entity_name
      partner-type:
        type: enum
        values:
        - GP
        - LP
        - MEMBER
      partner-entity-id:
        type: entity_name
      capital-commitment:
        type: decimal
    optional:
      source-document-id:
        type: entity_name
      voting-pct:
        type: decimal
      management-rights:
        type: bool
      loss-share-pct:
        type: decimal
      admission-date:
        type: date
  positional_sugar:
  - cbu-id
  - partnership-entity-id
  invocation_phrases:
  - add partner partnership
  - add partner the partnership
  - partnership add partner
  examples:
  - (partnership.add-partner :cbu-id "..." :partnership-entity-id "..." :partner-entity-id "..." :partner-type "..." :capital-commitment "..." :profit-share-pct "...")
  doc: Add a partner to the partnership with capital commitment
  tier: intent
- verb: partnership.reconcile
  domain: partnership
  action: reconcile
  aliases:
  - reconcile
  args:
    style: keyworded
    required:
      partnership-entity-id:
        type: entity_name
  positional_sugar:
  - partnership-entity-id
  invocation_phrases:
  - reconcile partnership
  - reconcile the partnership
  - partnership reconcile
  examples:
  - (partnership.reconcile :partnership-entity-id "...")
  doc: |
    Reconcile partnership capital:
    - Verify profit shares sum to 100%
    - Calculate total committed/contributed/unfunded
    - Identify control (GP or majority LP)
  tier: intent
- verb: partnership.analyze-control
  domain: partnership
  action: analyze-control
  aliases:
  - analyze-control
  args:
    style: keyworded
    required:
      partnership-entity-id:
        type: entity_name
    optional:
      control-threshold:
        type: decimal
  positional_sugar:
  - partnership-entity-id
  invocation_phrases:
  - analyze control partnership
  - analyze control the partnership
  - partnership analyze control
  examples:
  - (partnership.analyze-control :partnership-entity-id "...")
  doc: |
    Analyze control structure of partnership for UBO identification.
    GPs have presumptive control regardless of capital percentage.
    LPs may have control through voting rights or super-majority stake.
  tier: intent
