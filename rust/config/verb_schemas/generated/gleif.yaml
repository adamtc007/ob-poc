version: '2.0'
domain: gleif
description: GLEIF API integration for LEI data enrichment and corporate tree import
verbs:
- verb: gleif.get-record
  domain: gleif
  action: get-record
  aliases:
  - get-record
  args:
    style: keyworded
    required:
      lei:
        type: str
  positional_sugar:
  - lei
  invocation_phrases:
  - get record gleif
  - get record the gleif
  - get record lei
  - gleif get record
  examples:
  - (gleif.get-record :lei "...")
  doc: Fetch raw GLEIF record for an LEI (does not persist)
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
- verb: gleif.get-children
  domain: gleif
  action: get-children
  aliases:
  - get-children
  args:
    style: keyworded
    required:
      lei:
        type: str
    optional:
      limit:
        type: int
  positional_sugar:
  - lei
  invocation_phrases:
  - get children gleif
  - get children the gleif
  - get children lei
  - gleif get children
  examples:
  - (gleif.get-children :lei "...")
  doc: Get direct children from GLEIF
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - relationship
- verb: gleif.get-parent
  domain: gleif
  action: get-parent
  aliases:
  - get-parent
  args:
    style: keyworded
    required:
      lei:
        type: str
  positional_sugar:
  - lei
  invocation_phrases:
  - get parent gleif
  - get parent the gleif
  - get parent lei
  - gleif get parent
  examples:
  - (gleif.get-parent :lei "...")
  doc: Get direct parent relationship from GLEIF
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - relationship
- verb: gleif.lookup-by-isin
  domain: gleif
  action: lookup-by-isin
  aliases:
  - lookup-by-isin
  args:
    style: keyworded
    required:
      isin:
        type: str
  positional_sugar:
  - isin
  invocation_phrases:
  - lookup by isin gleif
  - lookup by isin the gleif
  - lookup by isin lei
  - gleif lookup by isin
  examples:
  - (gleif.lookup-by-isin :isin "...")
  doc: Look up entity LEI by ISIN (uses GLEIF ISIN-LEI mapping)
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - isin
- verb: gleif.import-tree
  domain: gleif
  action: import-tree
  aliases:
  - import-tree
  args:
    style: keyworded
    required:
      root-lei:
        type: str
    optional:
      max-depth:
        type: int
      create-entities:
        type: bool
      decision-id:
        type: uuid
      direction:
        type: enum
        values:
        - UP
        - DOWN
        - BOTH
  positional_sugar:
  - root-lei
  invocation_phrases:
  - import the GLEIF hierarchy
  - get parent chain from GLEIF
  - load corporate structure
  - import ownership tree
  - import tree gleif
  - import tree the gleif
  - import tree lei
  - gleif import tree
  examples:
  - (gleif.import-tree :root-lei "...")
  doc: Import corporate tree (parents and/or children) from GLEIF
  tier: intent
  tags:
  - gleif
  - external-api
  - import
  - hierarchy
- verb: gleif.resolve-successor
  domain: gleif
  action: resolve-successor
  aliases:
  - resolve-successor
  args:
    style: keyworded
    required:
      lei:
        type: str
  positional_sugar:
  - lei
  invocation_phrases:
  - resolve successor gleif
  - resolve successor the gleif
  - resolve successor lei
  - gleif resolve successor
  examples:
  - (gleif.resolve-successor :lei "...")
  doc: Resolve a merged or inactive LEI to its current successor entity
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - successor
- verb: gleif.get-managed-funds
  domain: gleif
  action: get-managed-funds
  aliases:
  - get-managed-funds
  args:
    style: keyworded
    required:
      manager-lei:
        type: str
    optional:
      limit:
        type: int
      resolve-umbrellas:
        type: bool
  positional_sugar:
  - manager-lei
  invocation_phrases:
  - get managed funds gleif
  - get managed funds the gleif
  - get managed funds lei
  - gleif get managed funds
  examples:
  - (gleif.get-managed-funds :manager-lei "...")
  doc: Get all funds managed by an investment manager from GLEIF
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - funds
- verb: gleif.search
  domain: gleif
  action: search
  aliases:
  - find
  - lookup
  - search
  args:
    style: keyworded
    optional:
      name:
        type: str
      category:
        type: enum
        values:
        - FUND
        - BRANCH
        - SOLE_PROPRIETOR
        - GENERAL
      status:
        type: enum
        values:
        - ACTIVE
        - INACTIVE
        - LAPSED
      jurisdiction:
        type: str
      limit:
        type: int
  invocation_phrases:
  - search GLEIF
  - find in GLEIF
  - look up LEI
  - search for entity
  - search gleif
  - search the gleif
  - find gleif
  - lookup gleif
  examples:
  - (gleif.search)
  doc: Search GLEIF for entities by name, jurisdiction, or category
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - search
- verb: gleif.import-managed-funds
  domain: gleif
  action: import-managed-funds
  aliases:
  - import-managed-funds
  args:
    style: keyworded
    required:
      manager-lei:
        type: str
    optional:
      ultimate-client-lei:
        type: str
      create-cbus:
        type: bool
      limit:
        type: int
      dry-run:
        type: bool
      decision-id:
        type: uuid
  positional_sugar:
  - manager-lei
  invocation_phrases:
  - import managed funds
  - get funds for manager
  - load fund portfolio
  - import investment manager funds
  - import managed funds gleif
  - import managed funds the gleif
  - import managed funds lei
  - gleif import managed funds
  examples:
  - (gleif.import-managed-funds :manager-lei "...")
  doc: Import funds managed by an investment manager with full CBU structure
  tier: intent
  tags:
  - gleif
  - external-api
  - import
  - funds
- verb: gleif.get-manager
  domain: gleif
  action: get-manager
  aliases:
  - get-manager
  args:
    style: keyworded
    optional:
      lei:
        type: str
      entity-id:
        type: entity_name
  invocation_phrases:
  - get manager gleif
  - get manager the gleif
  - get manager lei
  - gleif get manager
  examples:
  - (gleif.get-manager)
  doc: Get fund manager for a fund (IS_FUND-MANAGED_BY relationship). Use this for SICAVs which have no umbrella above them.
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - relationship
  - funds
- verb: gleif.get-umbrella
  domain: gleif
  action: get-umbrella
  aliases:
  - get-umbrella
  args:
    style: keyworded
    optional:
      entity-id:
        type: entity_name
      lei:
        type: str
  invocation_phrases:
  - get umbrella gleif
  - get umbrella the gleif
  - get umbrella lei
  - gleif get umbrella
  examples:
  - (gleif.get-umbrella)
  doc: Get umbrella fund for a sub-fund (IS_SUBFUND_OF relationship). SICAVs have no umbrella - use get-manager instead.
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - relationship
  - funds
- verb: gleif.get-master-fund
  domain: gleif
  action: get-master-fund
  aliases:
  - get-master-fund
  args:
    style: keyworded
    optional:
      entity-id:
        type: entity_name
      lei:
        type: str
  invocation_phrases:
  - get master fund gleif
  - get master fund the gleif
  - get master fund lei
  - gleif get master fund
  examples:
  - (gleif.get-master-fund)
  doc: Get master fund for a feeder fund (IS_FEEDER_TO relationship)
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - lookup
  - relationship
  - funds
- verb: gleif.enrich
  domain: gleif
  action: enrich
  aliases:
  - enrich
  args:
    style: keyworded
    optional:
      decision-id:
        type: uuid
      lei:
        type: str
      entity-id:
        type: entity_name
  invocation_phrases:
  - enrich from GLEIF
  - get LEI data
  - fetch LEI record
  - import from GLEIF
  - enrich gleif
  - enrich the gleif
  - enrich lei
  - gleif enrich
  examples:
  - (gleif.enrich)
  doc: Enrich an entity with GLEIF data by LEI (creates entity if not exists)
  tier: intent
  tags:
  - gleif
  - external-api
  - enrichment
- verb: gleif.import-to-client-group
  domain: gleif
  action: import-to-client-group
  aliases:
  - import-to-client-group
  args:
    style: keyworded
    required:
      root-lei:
        type: str
      group-id:
        type: entity_name
    optional:
      max-depth:
        type: int
      decision-id:
        type: uuid
      include-funds:
        type: bool
      max-funds-per-manco:
        type: int
  positional_sugar:
  - group-id
  - root-lei
  invocation_phrases:
  - research group from GLEIF
  - import corporate structure to client group
  - discover group entities
  - crawl GLEIF into client group
  - populate client group from LEI
  - import group with funds
  - discover funds for client group
  - import to client group gleif
  examples:
  - (gleif.import-to-client-group :group-id "..." :root-lei "...")
  doc: Import GLEIF tree and populate client_group tables with role tagging. Optionally includes managed funds (IM relationships).
  tier: composite
  tags:
  - gleif
  - external-api
  - import
  - client-group
  - discovery
  - funds
- verb: gleif.trace-ownership
  domain: gleif
  action: trace-ownership
  aliases:
  - trace-ownership
  args:
    style: keyworded
    optional:
      entity-id:
        type: entity_name
      lei:
        type: str
  invocation_phrases:
  - trace ownership
  - find ultimate parent
  - who owns this ultimately
  - trace to UBO
  - trace ownership gleif
  - trace ownership the gleif
  - trace ownership lei
  - gleif trace ownership
  examples:
  - (gleif.trace-ownership)
  doc: Trace ownership chain from entity to UBO terminus via GLEIF parent relationships
  tier: diagnostics
  tags:
  - gleif
  - external-api
  - trace
  - ownership
- verb: gleif.refresh
  domain: gleif
  action: refresh
  aliases:
  - refresh
  args:
    style: keyworded
    optional:
      stale-days:
        type: int
      limit:
        type: int
      entity-id:
        type: entity_name
  invocation_phrases:
  - refresh gleif
  - refresh the gleif
  - refresh lei
  - gleif refresh
  examples:
  - (gleif.refresh)
  doc: Refresh stale GLEIF data for entities
  tier: intent
  tags:
  - gleif
  - external-api
  - refresh
