version: '2.0'
domain: cbu.role
description: CBU entity role management with validation
verbs:
- verb: cbu.role.list
  domain: cbu.role
  action: list
  aliases:
  - get all
  - list
  - show
  args:
    style: keyworded
    required:
      cbu-id:
        type: uuid
    optional:
      category:
        type: str
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - list cbu.role
  - list the cbu.role
  - show cbu.role
  - get all cbu.role
  - cbu.role list
  examples:
  - (cbu.role.list :cbu-id "...")
  doc: List all role assignments for a CBU
  tier: reference
- verb: cbu.role.validate
  domain: cbu.role
  action: validate
  aliases:
  - check
  - validate
  - verify
  args:
    style: keyworded
    required:
      cbu-id:
        type: uuid
  positional_sugar:
  - cbu-id
  invocation_phrases:
  - validate roles
  - check role completeness
  - role validation
  - are required roles filled
  - validate CBU roles
  - check role requirements
  - validate cbu.role
  - validate the cbu.role
  examples:
  - (cbu.role.validate :cbu-id "...")
  doc: Validate all role assignments for a CBU (check requirements)
  tier: diagnostics
- verb: cbu.role.assign-control
  domain: cbu.role
  action: assign-control
  aliases:
  - assign-control
  args:
    style: keyworded
    required:
      controlled-entity-id:
        type: uuid
      cbu-id:
        type: uuid
      controller-entity-id:
        type: uuid
      role:
        type: str
    optional:
      appointment-date:
        type: date
      control-type:
        type: str
  positional_sugar:
  - cbu-id
  - controller-entity-id
  invocation_phrases:
  - assign control cbu.role
  - assign control the cbu.role
  - cbu.role assign control
  examples:
  - (cbu.role.assign-control :cbu-id "..." :controller-entity-id "..." :controlled-entity-id "..." :role "...")
  doc: |
    Assign control role (director, officer, etc.) to an entity.
    Control roles don't require ownership percentage.
  tier: intent
- verb: cbu.role.assign-ownership
  domain: cbu.role
  action: assign-ownership
  aliases:
  - assign-ownership
  args:
    style: keyworded
    required:
      cbu-id:
        type: uuid
      percentage:
        type: decimal
      owned-entity-id:
        type: uuid
      owner-entity-id:
        type: uuid
    optional:
      ownership-type:
        type: str
      role:
        type: str
      effective-from:
        type: date
  positional_sugar:
  - cbu-id
  - owner-entity-id
  invocation_phrases:
  - assign ownership cbu.role
  - assign ownership the cbu.role
  - cbu.role assign ownership
  examples:
  - (cbu.role.assign-ownership :cbu-id "..." :owner-entity-id "..." :owned-entity-id "..." :percentage "...")
  doc: |
    Specialized verb for assigning ownership roles with percentage.
    Creates both the role assignment AND the ownership relationship edge.
  tier: intent
- verb: cbu.role.assign-fund-role
  domain: cbu.role
  action: assign-fund-role
  aliases:
  - assign-fund-role
  args:
    style: keyworded
    required:
      cbu-id:
        type: uuid
      entity-id:
        type: uuid
      role:
        type: str
    optional:
      fund-entity-id:
        type: uuid
      regulatory-jurisdiction:
        type: str
      investment-percentage:
        type: decimal
      is-regulated:
        type: bool
  positional_sugar:
  - cbu-id
  - entity-id
  invocation_phrases:
  - assign fund role cbu.role
  - assign fund role the cbu.role
  - cbu.role assign fund role
  examples:
  - (cbu.role.assign-fund-role :cbu-id "..." :entity-id "..." :role "...")
  doc: |
    Assign fund structure or management role.
    Handles ManCo, IM, depositary, and fund hierarchy relationships.
  tier: intent
- verb: cbu.role.assign
  domain: cbu.role
  action: assign
  aliases:
  - allocate
  - assign
  - set
  args:
    style: keyworded
    required:
      entity-id:
        type: uuid
      cbu-id:
        type: uuid
      role:
        type: str
    optional:
      skip-validation:
        type: bool
      effective-to:
        type: date
      percentage:
        type: decimal
      effective-from:
        type: date
      target-entity-id:
        type: uuid
  positional_sugar:
  - cbu-id
  - entity-id
  invocation_phrases:
  - assign role
  - add role to entity
  - assign entity role
  - grant role
  - give role
  - assign to CBU
  - add participant role
  - assign CBU role
  examples:
  - (cbu.role.assign :cbu-id "..." :entity-id "..." :role "...")
  doc: |
    Assign a role to an entity within a CBU.
    Validates entity type compatibility and role conflicts before assignment.
  tier: intent
- verb: cbu.role.assign-service-provider
  domain: cbu.role
  action: assign-service-provider
  aliases:
  - assign-service-provider
  args:
    style: keyworded
    required:
      provider-entity-id:
        type: uuid
      cbu-id:
        type: uuid
      role:
        type: str
    optional:
      client-entity-id:
        type: uuid
      service-agreement-date:
        type: date
      is-regulated:
        type: bool
  positional_sugar:
  - cbu-id
  - provider-entity-id
  invocation_phrases:
  - assign service provider cbu.role
  - assign service provider the cbu.role
  - cbu.role assign service provider
  examples:
  - (cbu.role.assign-service-provider :cbu-id "..." :provider-entity-id "..." :role "...")
  doc: |
    Assign service provider role (depositary, custodian, admin, etc.).
    These are flat relationships with no ownership implications.
  tier: intent
- verb: cbu.role.remove
  domain: cbu.role
  action: remove
  aliases:
  - delete
  - drop
  - remove
  args:
    style: keyworded
    required:
      cbu-id:
        type: uuid
      entity-id:
        type: uuid
      role:
        type: str
  positional_sugar:
  - cbu-id
  - entity-id
  invocation_phrases:
  - remove cbu.role
  - remove the cbu.role
  - delete cbu.role
  - drop cbu.role
  - cbu.role remove
  examples:
  - (cbu.role.remove :cbu-id "..." :entity-id "..." :role "...")
  doc: Remove a role assignment from entity within CBU
  tier: intent
- verb: cbu.role.assign-trust-role
  domain: cbu.role
  action: assign-trust-role
  aliases:
  - assign-trust-role
  args:
    style: keyworded
    required:
      cbu-id:
        type: uuid
      trust-entity-id:
        type: uuid
      participant-entity-id:
        type: uuid
      role:
        type: str
    optional:
      interest-percentage:
        type: decimal
      class-description:
        type: str
      interest-type:
        type: str
  positional_sugar:
  - cbu-id
  - trust-entity-id
  invocation_phrases:
  - assign trust role cbu.role
  - assign trust role the cbu.role
  - cbu.role assign trust role
  examples:
  - (cbu.role.assign-trust-role :cbu-id "..." :trust-entity-id "..." :participant-entity-id "..." :role "...")
  doc: |
    Assign trust-specific role (settlor, trustee, beneficiary, protector).
    Handles special UBO treatment for trust participants.
  tier: intent
- verb: cbu.role.assign-signatory
  domain: cbu.role
  action: assign-signatory
  aliases:
  - assign-signatory
  args:
    style: keyworded
    required:
      role:
        type: str
      cbu-id:
        type: uuid
      person-entity-id:
        type: uuid
    optional:
      for-entity-id:
        type: uuid
      requires-co-signatory:
        type: bool
      authority-currency:
        type: str
      authority-limit:
        type: decimal
  positional_sugar:
  - cbu-id
  - person-entity-id
  invocation_phrases:
  - assign signatory cbu.role
  - assign signatory the cbu.role
  - cbu.role assign signatory
  examples:
  - (cbu.role.assign-signatory :cbu-id "..." :person-entity-id "..." :role "...")
  doc: |
    Assign authorized signatory, trader, or other operational role.
    These are always natural persons.
  tier: intent
